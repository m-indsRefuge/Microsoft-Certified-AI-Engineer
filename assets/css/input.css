@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom CSS from style.scss */

@layer base {
  /* Global Typography */
  h1, h2, h3, h4, h5, h6 {
    @apply font-mono font-bold uppercase tracking-widest text-primary-red;
  }
  body {
    @apply font-sans;
    position: relative;
    background-color: #000; /* fallback for dark mode */
    color: #fff;
  }
}

/* Specific heading sizes, if not covered by Tailwind */
h1 { font-size: 2.5rem; }
h2 { font-size: 2rem; }
h3 { font-size: 1.75rem; }

/* Buttons */
.btn {
  @apply bg-primary-red text-deep-black border-none py-3 px-6 uppercase tracking-widest transition-all duration-300 ease-in-out rounded-lg;
}
.btn:hover {
  @apply bg-secondary-cyan text-deep-black animate-rippleGlow;
}

/* Cards with a Backlit Effect */
.card {
  @apply bg-card-bg border border-border-dark rounded-lg p-6 transition-all duration-300 ease-in-out backdrop-blur-sm shadow-lg;
  box-shadow: 0 0 10px rgba(0, 242, 255, 0.1);
}
.card:hover {
  @apply transform scale-105 border-secondary-cyan;
  box-shadow: 0 0 20px theme('colors.secondary-cyan');
}

/* Links */
a {
  @apply text-secondary-cyan no-underline;
}
a:hover {
  @apply underline;
}
a.shimmer {
  background: linear-gradient(
  90deg,
  theme('colors.secondary-cyan') 25%,
  theme('colors.text-light') 50%,
  theme('colors.secondary-cyan') 65%
  );
  background-size: 190% auto;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: shimmer 2s linear infinite;
}

/* --- Typewriter Effect --- */
.typewriter.typing {
  border-right: 2px solid theme('colors.secondary-cyan');
}
.typewriter.finished-typing {
  border-right: 2px solid theme('colors.secondary-cyan');
  animation: blink 0.75s step-end infinite;
}

/* --- Hero Section --- */
.hero-section {
    @apply bg-card-bg text-text-light text-center py-16 px-8 relative z-0 overflow-hidden backdrop-blur-sm border-b border-border-dark;
    box-shadow: 0 0 0px rgba(0, 242, 255, 0.2), inset 0 0 10px rgba(0, 242, 255, 0.1);
}
.hero-section h1 {
    @apply text-5xl;
}
.hero-section p {
    @apply text-muted-gray max-w-xl mx-auto mt-4;
}

/* --- Video Background --- */
#myVideo {
  @apply fixed right-0 bottom-0 min-w-full min-h-full -z-20 object-cover;
}
body::before {
  content: '';
  @apply fixed top-0 left-0 right-0 bottom-0 bg-black/60 -z-10;
}

/* --- Scroll Reveal --- */
.reveal {
  @apply opacity-0 translate-y-5 transition-all duration-600 ease-in-out;
}
.reveal.visible {
  @apply opacity-100 translate-y-0;
}

/* ===================================================================== */
/* CUSTOM COMPONENT STYLES                                               */
/* ===================================================================== */

/* --- Transparent Container --- */
.transparent-container {
    @apply bg-card-bg p-6 rounded-lg backdrop-blur-sm;
}

/* --- Self-Scrolling Timeline --- */
@keyframes infinite-scroll {
    from { transform: translateX(0); }
    to { transform: translateX(-50%); }
}

.scroller-container {
    @apply w-full overflow-hidden;
    -webkit-mask: linear-gradient(90deg, transparent, white 20%, white 80%, transparent);
    mask: linear-gradient(90deg, transparent, white 20%, white 80%, transparent);
}

.scroller-inner {
    @apply flex gap-8 w-max;
    animation: infinite-scroll 60s linear infinite;
}

.scroller-container:hover .scroller-inner {
    animation-play-state: paused;
}

/* --- Custom List Item Marker --- */
.list-style-gt {
  @apply list-none;
}
.list-style-gt li::before {
  content: '>';
  @apply text-secondary-cyan font-bold inline-block w-4 -ml-4;
}

/* ===================================================================== */
/* ADVANCED CRT & GLITCH EFFECT (CSS ONLY)                               */
/* ===================================================================== */

/* ====== CRT Scanline Overlay ====== */
body::after {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  background: repeating-linear-gradient(
    to bottom,
    rgba(255, 255, 255, 0.05) 0px,
    rgba(255, 255, 255, 0.05) 1px,
    transparent 2px
  );
  z-index: 9999;
  mix-blend-mode: overlay;
  animation: flicker 0.15s infinite;
}

/* Flicker animation for CRT glow */
@keyframes flicker {
  0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {
    opacity: 1;
  }
  20%, 24%, 55% {
    opacity: 0.8;
  }
}

/* ====== Site-Wide Glitch Effect for Headings (H3 EXCLUDED) ====== */
/* Base style for glitching headings */
h1, h2 {
  position: relative;
  color: deep-black;
  text-shadow: 0 0 2px holo-silver, 0 0 8px #ff1493, 0 0 12px #ff1493;
}

/* Base styles for all glitching pseudo-elements */
h1::before, h1::after,
h2::before, h2::after {
  content: attr(data-text);
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  overflow: hidden;
  clip: rect(0, 900px, 0, 0);
}

/* --- H1 Effect (100% Intensity) --- */
h1::before {
  left: 5px;
  text-shadow: -5px 0 theme('colors.ultraviolet');
  animation: glitchTop-h1 1.5s infinite linear alternate-reverse;
}
h1::after {
  left: -5px;
  text-shadow: -5px 0 theme('colors.deep-black');
  animation: glitchBottom-h1 1.5s infinite linear alternate-reverse;
}

/* --- H2 Effect (~60% Intensity) --- */
h2::before {
  left: 3px;
  text-shadow: -3px 0 theme('colors.neon-green');
  animation: glitchTop-h2 2.5s infinite linear alternate-reverse;
}
h2::after {
  left: -3px;
  text-shadow: -3px 0 theme('colors.primary-red');
  animation: glitchBottom-h2 2.5s infinite linear alternate-reverse;
}

/* --- Custom H3 Heading Style --- */
h3 {
  color: theme('colors.secondary-cyan');
  text-shadow: 0 0 8px theme('colors.secondary-cyan');
}

/* ====== Periodic Distortion Animations (H3 EXCLUDED) ====== */

/* --- H1 Keyframes (100% Intensity) --- */
@keyframes glitchTop-h1 {
  2%, 64% { transform: translate(2px, -2px); clip: rect(25px, 9999px, 80px, 0); }
  3%, 65% { transform: translate(-2px, 2px); clip: rect(0, 9999px, 5px, 0); }
  4%, 66% { transform: translate(2px, 2px); clip: rect(40px, 9999px, 99px, 0); }
  5%, 67% { transform: translate(-2px, -2px); clip: rect(15px, 9999px, 70px, 0); }
  6%, 68% { transform: translate(0, 0); clip: rect(50px, 9999px, 60px, 0); }
}
@keyframes glitchBottom-h1 {
  2%, 64% { transform: translate(-2px, 2px); clip: rect(40px, 9999px, 99px, 0); }
  3%, 65% { transform: translate(2px, -2px); clip: rect(0, 9999px, 25px, 0); }
  4%, 66% { transform: translate(-2px, -2px); clip: rect(20px, 9999px, 85px, 0); }
  5%, 67% { transform: translate(2px, 2px); clip: rect(55px, 9999px, 75px, 0); }
  6%, 68% { transform: translate(0, 0); clip: rect(10px, 9999px, 30px, 0); }
}

/* --- H2 Keyframes (~60% Intensity) --- */
@keyframes glitchTop-h2 {
  2%, 64% { transform: translate(1px, -1px); clip: rect(15px, 9999px, 45px, 0); }
  4%, 66% { transform: translate(-1px, 1px); clip: rect(30px, 9999px, 70px, 0); }
  6%, 68% { transform: translate(0, 0); clip: rect(25px, 9999px, 35px, 0); }
}
@keyframes glitchBottom-h2 {
  2%, 64% { transform: translate(-1px, 1px); clip: rect(25px, 9999px, 80px, 0); }
  4%, 66% { transform: translate(1px, -1px); clip: rect(10px, 9999px, 35px, 0); }
  6%, 68% { transform: translate(0, 0); clip: rect(40px, 9999px, 50px, 0); }
}
/* ===================================================================== */
/* DEFINITIVE BLUEPRINT LAYOUT FIX (Desktop Only)                        */
/* ===================================================================== */

.blueprint-grid {
    display: grid;
    grid-template-columns: 1fr 1fr; /* Two equal-width columns */
    gap: 2rem; /* Space between columns */
    align-items: center; /* Vertically align content */
}

.blueprint-hub-visual {
    height: 24rem; /* 384px */
}

/* --- Hologram Text Effect --- */
.hologram-text {
  animation: hologramFlicker 4s ease-in-out infinite;
}

@keyframes hologramFlicker {
  0% {
    opacity: 0.8;
    text-shadow: 0 0 6px theme('colors.neon-green');
  }
  30% {
    opacity: 0.9;
    text-shadow: 0 0 8px theme('colors.neon-green');
  }
  50% {
    opacity: 0.7;
    text-shadow: 0 0 10px theme('colors.neon-green');
  }
  70% {
    opacity: 1;
    text-shadow: 0 0 8px theme('colors.neon-green');
  }
  100% {
    opacity: 0.8;
    text-shadow: 0 0 6px theme('colors.neon-green');
  }
}

/* --- Holographic Image Effect --- */
.hologram-image {
  position: absolute;
  top: -2.5rem;  /* Pulls the image up */
  right: -2rem; /* Pushes the image right */
  width: 100px; /* Controls the size of the hologram */
  height: auto;
  opacity: 0.7;
  mix-blend-mode: color-dodge; /* Creates a light-based blending effect */
  
  /* This filter chain converts the image to the cyan hologram color */
  filter: grayscale(100%) sepia(100%) hue-rotate(130deg) saturate(500%) brightness(1.2) drop-shadow(0 0 8px theme('colors.secondary-cyan'));
  
  animation: hologramFlicker 5s infinite ease-in-out;
}

/* Scanline overlay for the hologram */
.hologram-image::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  background: repeating-linear-gradient(
    to bottom,
    rgba(255, 255, 255, 0.1) 0px,
    rgba(255, 255, 255, 0.1) 1px,
    transparent 2px
  );
  z-index: 2;
}

@keyframes hologramFlicker {
  0%   { opacity: 0.6; transform: translateY(0); }
  50%  { opacity: 0.8; transform: translateY(-3px); }
  100% { opacity: 0.6; transform: translateY(0); }
}

/* --- Scrolling Hologram Effect --- */
.card--hologram {
  /* This class will be added to any card to activate the effect */
  position: relative;
  overflow: hidden;
}

.card--hologram::after {
  content: '';
  position: absolute;
  top: -1.5rem;  /* Position the hologram */
  right: -1rem;
  
  /* IMPORTANT: These dimensions must match each frame of your sprite sheet */
  width: 150px; 
  height: 150px;

  /* The path to your new sprite sheet */
  background-image: url('{{ "/assets/img/hologram-sprite.png" | relative_url }}');
  
  /* This animation scrolls through the 6 frames */
  animation: scrollHologram 12s steps(6) infinite;

  /* Holographic visual filters */
  opacity: 0.7;
  mix-blend-mode: color-dodge;
  filter: grayscale(100%) sepia(100%) hue-rotate(130deg) saturate(500%) brightness(1.2) drop-shadow(0 0 8px theme('colors.secondary-cyan'));
}

@keyframes scrollHologram {
  from {
    background-position: 0 0;
  }
  to {
    /* This value is -1 * (height_of_frame * number_of_frames) */
    /* e.g., -1 * (150px * 6) = -900px */
    background-position: 0 -900px;
  }
}

/* --- Hero Bleed Image Effect --- */
.hero-bleed-image {
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: auto; /* Maintain aspect ratio */
  max-width: 40%; /* Prevent image from taking over the box */
  
  /* Styling for the effect */
  opacity: 0.3;
  mix-blend-mode: screen; /* Blends the light parts of the image */

  /* This creates the soft fade on the right edge */
  mask-image: linear-gradient(to right, black 60%, transparent 100%);
  -webkit-mask-image: linear-gradient(to right, black 60%, transparent 100%);
}

/* --- 3D Gallery Styles --- */
#gallery-container canvas {
    width: 100% !important;
    height: 100% !important;
}

#gallery-container:active {
    cursor: grabbing;
}
